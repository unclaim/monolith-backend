# internal/auth/domain/ports.go - –°–ø–∏—Å–æ–∫ –î–µ–ª –∏ –í–µ—â–µ–π –¥–ª—è –î–æ–º–∏–∫–∞ "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"
–ó–¥–µ—Å—å –º—ã –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å –Ω–∞—à —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (AuthService) –∏ —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ –æ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö (AuthRepository). –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±–µ—â–∞–Ω–∏—è (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã), –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
```go
package domain

import (
	"context"
	"time"
)

// AuthService ‚Äî —ç—Ç–æ "–≤—Ö–æ–¥—è—â–∏–π –ø–æ—Ä—Ç". –≠—Ç–æ —Å–ø–∏—Å–æ–∫ –¥–µ–ª, –∫–æ—Ç–æ—Ä—ã–µ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å –Ω–∞—à –¥–æ–º–∏–∫ "Auth".
// –î—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤) –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–∏ –º–µ—Ç–æ–¥—ã.
type AuthService interface {
	RegisterUser(ctx context.Context, email, password string) (User, error)           // –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	VerifyEmail(ctx context.Context, email, code string) (User, error)               // –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫–æ–¥—É
	CompleteRegistration(ctx context.Context, userID string, name, surname, username string) (User, error) // –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
	LoginUser(ctx context.Context, login, password string) (Session, error)          // –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
	LogoutUser(ctx context.Context, sessionID string) error                          // –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
	ChangePassword(ctx context.Context, userID, oldPassword, newPassword string) error // –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
	ResetPasswordRequest(ctx context.Context, email string) error                    // –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
	ResetPasswordConfirm(ctx context.Context, email, code, newPassword string) error // –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
	GetSession(ctx context.Context, sessionID string) (Session, error)               // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
}

// AuthRepository ‚Äî —ç—Ç–æ "–∏—Å—Ö–æ–¥—è—â–∏–π –ø–æ—Ä—Ç". –≠—Ç–æ —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –¥–æ–º–∏–∫—É "Auth" –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞.
// –≠—Ç–æ –æ–±–µ—â–∞–µ—Ç, —á—Ç–æ –≥–¥–µ-—Ç–æ –±—É–¥–µ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —ç—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
type AuthRepository interface {
	SaveUser(ctx context.Context, user User) error                               // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	GetUserByEmail(ctx context.Context, email string) (User, error)              // –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
	GetUserByUsername(ctx context.Context, username string) (User, error)        // –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ username
	SaveSession(ctx context.Context, session Session, expiresAt time.Time) error // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Å—Å–∏—é
	GetSessionByID(ctx context.Context, sessionID string) (Session, error)       // –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Å—Å–∏—é –ø–æ ID
	DeleteSession(ctx context.Context, sessionID string) error                   // –£–¥–∞–ª–∏—Ç—å —Å–µ—Å—Å–∏—é
	UpdateUser(ctx context.Context, user User) error                             // –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	RecordFailedLoginAttempt(ctx context.Context, identifier string) error       // –ó–∞–ø–∏—Å–∞—Ç—å –Ω–µ—É–¥–∞—á–Ω—É—é –ø–æ–ø—ã—Ç–∫—É –≤—Ö–æ–¥–∞
	GetFailedLoginAttempts(ctx context.Context, identifier string) (int, time.Time, error) // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª-–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
	ClearFailedLoginAttempts(ctx context.Context, identifier string) error       // –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
}

```

# internal/auth/domain/service.go - –ì–ª–∞–≤–Ω—ã–π –†–∞–±–æ—Ç–Ω–∏–∫ –î–æ–º–∏–∫–∞ "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"
–≠—Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ –∂–∏–≤–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–∞. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AuthRepository (–∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö), —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.
```go
package domain

import (
	"context"
	"errors"
	"fmt"
	"time"

	"your-app-name/pkg/infrastructure/eventbus" // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à—É —à–∏–Ω—É —Å–æ–±—ã—Ç–∏–π
	"your-app-name/pkg/email"                   // –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º
	"your-app-name/pkg/security"                // –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–æ–ª—è–º–∏
	"your-app-name/internal/shared/common_errors" // –ù–∞—à–∏ –æ–±—â–∏–µ –æ—à–∏–±–∫–∏
)

// AuthServiceImplementation ‚Äî —ç—Ç–æ –Ω–∞—à "–≥–ª–∞–≤–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫" –¥–ª—è –¥–æ–º–∏–∫–∞ Auth.
// –û–Ω —É–º–µ–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ, —á—Ç–æ –æ–±–µ—â–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å AuthService.
type AuthServiceImplementation struct {
	repo AuthRepository     // –≠—Ç–æ "–≤–µ—â—å", –∫–æ—Ç–æ—Ä—É—é –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç: —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
	eb   eventbus.EventBus  // –ù–∞—à–∞ —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π, —á—Ç–æ–±—ã —Ä–∞—Å—Å—ã–ª–∞—Ç—å "–Ω–æ–≤–æ—Å—Ç–∏"
	mailService email.MailService // –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º
}

// NewAuthService —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ "–≥–ª–∞–≤–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞"
func NewAuthService(repo AuthRepository, eb eventbus.EventBus, mailService email.MailService) *AuthServiceImplementation {
	return &AuthServiceImplementation{
		repo: repo,
		eb:   eb,
		mailService: mailService,
	}
}

// RegisterUser - —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—É—é —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å –Ω–∞—à —Ä–∞–±–æ—Ç–Ω–∏–∫.
// –ó–¥–µ—Å—å –æ–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
func (s *AuthServiceImplementation) RegisterUser(ctx context.Context, email, password string) (User, error) {
	// 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–∞–∫–∏–º email –µ—â–µ –Ω–µ—Ç.
	// –≠—Ç–æ –∫–∞–∫ —Å–ø—Ä–æ—Å–∏—Ç—å —É –∫–ª–∞–¥–æ–≤—â–∏–∫–∞ (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è): "–ï—Å—Ç—å —Ç–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?".
	_, err := s.repo.GetUserByEmail(ctx, email)
	if err == nil {
		// –ï—Å–ª–∏ –Ω–∞—à–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–Ω–∞—á–∏—Ç, –æ–Ω —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.
		return User{}, common_errors.NewConflictError("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω")
	}
	if !errors.Is(err, common_errors.ErrNotFound) {
		// –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ ErrNotFound, –∑–Ω–∞—á–∏—Ç —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
		return User{}, fmt.Errorf("–æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ email: %w", err)
	}

	// 2. –•—ç—à–∏—Ä—É–µ–º –ø–∞—Ä–æ–ª—å. –≠—Ç–æ –∫–∞–∫ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥,
	// –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é.
	hashedPassword, err := security.HashPassword(password)
	if err != nil {
		return User{}, fmt.Errorf("–Ω–µ —É–¥–∞–ª–æ—Å—å —Ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å: %w", err)
	}

	// 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email. –≠—Ç–æ –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø–æ—á—Ç—ã.
	verificationCode := security.GenerateRandomCode(6) // 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥

	// 4. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
	newUser := NewUser(email, hashedPassword, verificationCode)
	newUser.Status = UserStatusPendingVerification // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â–µ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –ø–æ—á—Ç—É

	// 5. –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
	// –≠—Ç–æ –∫–∞–∫ –¥–∞—Ç—å –∫–ª–∞–¥–æ–≤—â–∏–∫—É (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é) –Ω–æ–≤—É—é –∫–æ—Ä–æ–±–∫—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
	err = s.repo.SaveUser(ctx, newUser)
	if err != nil {
		return User{}, fmt.Errorf("–Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: %w", err)
	}

	// 6. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∏—Å—å–º–æ —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
	// –≠—Ç–æ –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ—á—Ç–æ–≤–æ–≥–æ –≥–æ–ª—É–±—è —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–æ–¥–æ–º.
	err = s.mailService.SendEmail(email, "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", fmt.Sprintf("–í–∞—à –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: %s", verificationCode))
	if err != nil {
		// –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–∏—Å—å–º–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–æ—Å—å.
		// –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å retry-–ª–æ–≥–∏–∫—É.
		slog.Error("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è", "email", email, "error", err)
	}

	// 7. –ü—É–±–ª–∏–∫—É–µ–º —Å–æ–±—ã—Ç–∏–µ "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω".
	// –≠—Ç–æ –∫–∞–∫ –∫—Ä–∏–∫–Ω—É—Ç—å "–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è!" –¥–ª—è –≤—Å–µ—Ö, –∫—Ç–æ —Å–ª—É—à–∞–µ—Ç.
	s.eb.Publish(ctx, UserRegisteredEvent{UserID: newUser.ID, Email: newUser.Email})

	return newUser, nil
}

// –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã (LoginUser, VerifyEmail –∏ —Ç.–¥.) –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ—Ö–æ–∂–∏–º –æ–±—Ä–∞–∑–æ–º,
// –∏—Å–ø–æ–ª—å–∑—É—è repo –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ eb –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π.
// ...


```

# internal/auth/domain/auth.go - –ò–≥—Ä—É—à–∫–∏ –∏ –ü—Ä–∞–≤–∏–ª–∞ –î–æ–º–∏–∫–∞ "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è" üß∏
–≠—Ç–∞ –ø–∞–ø–∫–∞ ‚Äî –∫–∞–∫ –∫–æ—Ä–æ–±–∫–∞ —Å –∏–≥—Ä—É—à–∫–∞–º–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏–≥—Ä—ã –¥–ª—è –Ω–∞—à–µ–≥–æ –¥–æ–º–∏–∫–∞ "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è". –ó–¥–µ—Å—å –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º, –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (User), –∏—Ö —Å–µ—Å—Å–∏–∏ (Session), –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —ç—Ç–æ–º—É –¥–æ–º–∏–∫—É. –ó–¥–µ—Å—å –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –ª–æ–≥–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–ª—å–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∞–º–∏—Ö "–∏–≥—Ä—É—à–µ–∫".
–ì–¥–µ —ç—Ç–æ: your-ultra-scalable-monolith/internal/auth/domain/auth.go
–ß—Ç–æ –∑–¥–µ—Å—å:
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π: –°–æ–∑–¥–∞–Ω–∏–µ "—á–µ—Ä—Ç–µ–∂–µ–π" –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–µ—â–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ User (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) –∏ Session (—Å–µ—Å—Å–∏—è –≤—Ö–æ–¥–∞).
–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö: –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ID, email, —Ö—ç—à –ø–∞—Ä–æ–ª—è.
–ú–µ—Ç–æ–¥—ã-–ø–æ–º–æ—â–Ω–∏–∫–∏: –ù–µ–±–æ–ª—å—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç—Ç–∏–º–∏ "–∏–≥—Ä—É—à–∫–∞–º–∏" (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ –ø–∞—Ä–æ–ª—å).
–ü—Ä–∏–º–µ—Ä:

```go
package domain

import (
	"time"

	"your-app-name/pkg/security" // –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–æ–ª—è–º–∏
	"github.com/google/uuid"    // –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID
)

// UserStatus –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
type UserStatus string

const (
	UserStatusPendingVerification UserStatus = "pending_verification" // –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email
	UserStatusActive              UserStatus = "active"               // –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
	UserStatusBlocked             UserStatus = "blocked"              // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
)

// User - —ç—Ç–æ –Ω–∞—à–∞ "–∏–≥—Ä—É—à–∫–∞" - —Å—É—â–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
// –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
type User struct {
	ID                    string     // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	Email                 string     // –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	PasswordHash          string     // –•—ç—à (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π) –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	Username              string     // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º —Å–Ω–∞—á–∞–ª–∞)
	Name                  string     // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	Surname               string     // –§–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	Status                UserStatus // –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–º. –≤—ã—à–µ)
	EmailVerificationCode string     // –ö–æ–¥ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email (–≤—Ä–µ–º–µ–Ω–Ω—ã–π)
	CreatedAt             time.Time  // –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
	UpdatedAt             time.Time  // –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}

// NewUser —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
// –≠—Ç–æ –∫–∞–∫ –≤–∑—è—Ç—å –Ω–æ–≤—ã–π –Ω–∞–±–æ—Ä –¥–µ—Ç–∞–ª–µ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—É—à–∫–∏.
func NewUser(email, passwordHash, verificationCode string) User {
	return User{
		ID:                    uuid.New().String(), // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
		Email:                 email,
		PasswordHash:          passwordHash,
		Status:                UserStatusPendingVerification, // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
		EmailVerificationCode: verificationCode,
		CreatedAt:             time.Now(),
		UpdatedAt:             time.Now(),
	}
}

// CheckPassword - –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ –≤–≤–µ–¥–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º —Ö—ç—à–µ–º.
// –≠—Ç–æ –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ –∫–ª—é—á –∫ –∑–∞–º–∫—É.
func (u *User) CheckPassword(password string) bool {
	return security.CheckPasswordHash(password, u.PasswordHash)
}

// MarkEmailAsVerified - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ "–∞–∫—Ç–∏–≤–Ω—ã–π".
// –≠—Ç–æ –∫–∞–∫ —Å–∫–∞–∑–∞—Ç—å: "–≠—Ç–∞ –∏–≥—Ä—É—à–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏–≥—Ä–µ!".
func (u *User) MarkEmailAsVerified() {
	u.Status = UserStatusActive
	u.UpdatedAt = time.Now()
}

// UpdateUsername - –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
func (u *User) UpdateUsername(username string) {
    u.Username = username
    u.UpdatedAt = time.Now()
}

// Session - —ç—Ç–æ –Ω–∞—à–∞ "–∏–≥—Ä—É—à–∫–∞" - —Å—É—â–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏.
// –û–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É.
type Session struct {
	ID        string    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–µ—Å—Å–∏–∏
	UserID    string    // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å–µ—Å—Å–∏—è
	ExpiresAt time.Time // –í—Ä–µ–º—è, –∫–æ–≥–¥–∞ —Å–µ—Å—Å–∏—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –±—ã—Ç—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π
	CreatedAt time.Time // –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
	ClientIP  string    // IP-–∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª —Å–µ—Å—Å–∏—é (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
	UserAgent string    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∫–ª–∏–µ–Ω—Ç–∞
}

// NewSession —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
func NewSession(userID, clientIP, userAgent string, expiresAt time.Time) Session {
	return Session{
		ID:        uuid.New().String(), // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è —Å–µ—Å—Å–∏–∏
		UserID:    userID,
		ExpiresAt: expiresAt,
		CreatedAt: time.Now(),
		ClientIP:  clientIP,
		UserAgent: userAgent,
	}
}

```